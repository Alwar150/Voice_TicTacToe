\doxysection{C\+:/\+Users/ferna/\+Voice\+\_\+\+Tic\+Tac\+Toe/\+Qt-\/\+Tic-\/\+Tac-\/\+Toe-\/master/include/pocketsphinx/logmath.h File Reference}
\hypertarget{logmath_8h}{}\label{logmath_8h}\index{C:/Users/ferna/Voice\_TicTacToe/Qt-\/Tic-\/Tac-\/Toe-\/master/include/pocketsphinx/logmath.h@{C:/Users/ferna/Voice\_TicTacToe/Qt-\/Tic-\/Tac-\/Toe-\/master/include/pocketsphinx/logmath.h}}


Fast integer logarithmic addition operations.  


{\ttfamily \#include $<$pocketsphinx/export.\+h$>$}\newline
{\ttfamily \#include $<$pocketsphinx/prim\+\_\+type.\+h$>$}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structlogadd__s}{logadd\+\_\+s}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{logmath_8h_ae5c5ce106e9f8f1e763d419de53317a8}{LOGMATH\+\_\+\+TABLE}}(lm)
\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structlogadd__s}{logadd\+\_\+s}} \mbox{\hyperlink{logmath_8h_a8c04c94e2c6364f6cf3b649eb4ce5bfd}{logadd\+\_\+t}}
\item 
typedef struct logmath\+\_\+s \mbox{\hyperlink{logmath_8h_ae613aa7db1dd40ff56a80a7dadb22cc8}{logmath\+\_\+t}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Fast integer logarithmic addition operations. 

Because doxygen is Bad Software, the actual documentation can only exist in \doxylink{structlogmath__t}{logmath\+\_\+t}. Sorry about that.

In evaluating HMM models, probability values are often kept in log domain, to avoid overflow. To enable these logprob values to be held in \doxylink{prim__type_8h_a56f1a81c92849566ae864511088eb7e8}{int32} variables without significant loss of precision, a logbase of (1+epsilon) (where epsilon \texorpdfstring{$<$}{<} 0.\+01 or so) is used. This module maintains this logbase (B).

However, maintaining probabilities in log domain creates a problem when adding two probability values. This problem can be solved by table lookup. Note that\+:


\begin{DoxyItemize}
\item $ b^z = b^x + b^y $
\item $ b^z = b^x(1 + b^{y-x})     = b^y(1 + e^{x-y}) $
\item $ z   = x + log_b(1 + b^{y-x}) = y + log_b(1 + b^{x-y}) $
\end{DoxyItemize}

So\+:


\begin{DoxyItemize}
\item when $ y > x, z = y + logadd\_table[-(x-y)] $
\item when $ x > y, z = x + logadd\_table[-(y-x)] $
\item where $ logadd\_table[n] = log_b(1 + b^{-n}) $
\end{DoxyItemize}

The first entry in {\itshape logadd\+\_\+table} is simply $ log_b(2.0) $, for the case where $ y = x $ and thus $ z = log_b(2x) = log_b(2) + x $. The last entry is zero, where $ log_b(x+y) = x = y $ due to loss of precision.

Since this table can be quite large particularly for small logbases, an option is provided to compress it by dropping the least significant bits of the table. 

\label{doc-define-members}
\Hypertarget{logmath_8h_doc-define-members}
\doxysubsection{Macro Definition Documentation}
\Hypertarget{logmath_8h_ae5c5ce106e9f8f1e763d419de53317a8}\index{logmath.h@{logmath.h}!LOGMATH\_TABLE@{LOGMATH\_TABLE}}
\index{LOGMATH\_TABLE@{LOGMATH\_TABLE}!logmath.h@{logmath.h}}
\doxysubsubsection{\texorpdfstring{LOGMATH\_TABLE}{LOGMATH\_TABLE}}
{\footnotesize\ttfamily \label{logmath_8h_ae5c5ce106e9f8f1e763d419de53317a8} 
\#define LOGMATH\+\_\+\+TABLE(\begin{DoxyParamCaption}\item[{}]{lm}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{((\mbox{\hyperlink{structlogadd__t}{logadd\_t}}\ *)lm)}

\end{DoxyCode}
Obtain the log-\/add table from a \doxylink{structlogmath__t}{logmath\+\_\+t} \texorpdfstring{$\ast$}{*} 

\label{doc-typedef-members}
\Hypertarget{logmath_8h_doc-typedef-members}
\doxysubsection{Typedef Documentation}
\Hypertarget{logmath_8h_a8c04c94e2c6364f6cf3b649eb4ce5bfd}\index{logmath.h@{logmath.h}!logadd\_t@{logadd\_t}}
\index{logadd\_t@{logadd\_t}!logmath.h@{logmath.h}}
\doxysubsubsection{\texorpdfstring{logadd\_t}{logadd\_t}}
{\footnotesize\ttfamily \label{logmath_8h_a8c04c94e2c6364f6cf3b649eb4ce5bfd} 
typedef struct \mbox{\hyperlink{structlogadd__s}{logadd\+\_\+s}} logadd\+\_\+t}

\Hypertarget{logmath_8h_ae613aa7db1dd40ff56a80a7dadb22cc8}\index{logmath.h@{logmath.h}!logmath\_t@{logmath\_t}}
\index{logmath\_t@{logmath\_t}!logmath.h@{logmath.h}}
\doxysubsubsection{\texorpdfstring{logmath\_t}{logmath\_t}}
{\footnotesize\ttfamily \label{logmath_8h_ae613aa7db1dd40ff56a80a7dadb22cc8} 
typedef struct logmath\+\_\+s logmath\+\_\+t}

